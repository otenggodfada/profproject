<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Info Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .response {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            white-space: pre-wrap;
        }
        .error {
            background: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }
        .success {
            background: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
    </style>
</head>
<body>
    <h1>ProfStudyMate Contact Information Test</h1>
    
    <div class="test-section">
        <h2>Test Contact Queries</h2>
        <p>Click the buttons below to test different contact-related queries:</p>
        
        <button class="test-button" onclick="testQuery('how can i contact profstudymate')">How can I contact ProfStudyMate?</button>
        <button class="test-button" onclick="testQuery('what are profstudymate phone numbers')">Phone Numbers</button>
        <button class="test-button" onclick="testQuery('what are profstudymate email addresses')">Email Addresses</button>
        <button class="test-button" onclick="testQuery('what is profstudymate physical address')">Physical Address</button>
        <button class="test-button" onclick="testQuery('what are profstudymate business hours')">Business Hours</button>
        <button class="test-button" onclick="testQuery('how can i download profstudymate mobile app')">Mobile App</button>
        
        <div id="response" class="response" style="display: none;"></div>
    </div>

    <div class="test-section">
        <h2>Dataset Loading Test</h2>
        <button class="test-button" onclick="testDatasetLoading()">Test Dataset Loading</button>
        <div id="dataset-response" class="response" style="display: none;"></div>
    </div>

    <script>
        let aiAssistant;

        // Initialize AI Assistant
        async function initAI() {
            try {
                // Import the AIStudyAssistant class
                const response = await fetch('js/chatbot.js');
                const scriptText = await response.text();
                
                // Create a temporary script element to load the class
                const script = document.createElement('script');
                script.type = 'module';
                script.textContent = `
                    import { AIStudyAssistant } from './js/chatbot.js';
                    window.aiAssistant = new AIStudyAssistant();
                `;
                document.head.appendChild(script);
                
                console.log('AI Assistant initialized');
            } catch (error) {
                console.error('Error initializing AI:', error);
            }
        }

        // Test dataset loading
        async function testDatasetLoading() {
            const responseDiv = document.getElementById('dataset-response');
            responseDiv.style.display = 'block';
            responseDiv.className = 'response';
            responseDiv.textContent = 'Testing dataset loading...';
            
            try {
                const response = await fetch('enhanced-chatbot-datasets.json');
                const data = await response.json();
                
                const contactInfo = data.datasets.profstudymate_platform?.contact_social;
                const companyInfo = data.datasets.profstudymate_platform?.company_info;
                
                let result = `✅ Dataset loaded successfully!\n\n`;
                result += `Project: ${data.project}\n`;
                result += `Version: ${data.version}\n\n`;
                result += `Contact Information Available: ${!!contactInfo}\n`;
                result += `Company Info Available: ${!!companyInfo}\n\n`;
                
                if (contactInfo) {
                    result += `📞 Phone Numbers: ${contactInfo.phone_numbers?.answer ? '✅' : '❌'}\n`;
                    result += `✉️ Email Addresses: ${contactInfo.email_addresses?.answer ? '✅' : '❌'}\n`;
                    result += `📍 Physical Address: ${contactInfo.physical_address?.answer ? '✅' : '❌'}\n`;
                    result += `🕒 Business Hours: ${contactInfo.business_hours?.answer ? '✅' : '❌'}\n`;
                    result += `📱 Mobile App: ${contactInfo.app_download?.answer ? '✅' : '❌'}\n`;
                    result += `📢 Social Media: ${contactInfo.social_media_presence?.answer ? '✅' : '❌'}\n`;
                }
                
                responseDiv.textContent = result;
                responseDiv.classList.add('success');
                
            } catch (error) {
                responseDiv.textContent = `❌ Error loading dataset: ${error.message}`;
                responseDiv.classList.add('error');
            }
        }

        // Test specific queries
        async function testQuery(query) {
            const responseDiv = document.getElementById('response');
            responseDiv.style.display = 'block';
            responseDiv.className = 'response';
            responseDiv.textContent = `Testing query: "${query}"\n\nLoading...`;
            
            try {
                // Create a simple AI assistant for testing
                const response = await fetch('enhanced-chatbot-datasets.json');
                const data = await response.json();
                
                const platform = data.datasets.profstudymate_platform;
                const lowerQuery = query.toLowerCase();
                let result = '';
                
                // Test the same logic as in the chatbot
                if (lowerQuery.includes('contact') || lowerQuery.includes('how can i contact')) {
                    result = platform.company_info.location_contact.answer;
                } else if (lowerQuery.includes('phone number')) {
                    result = platform.contact_social.phone_numbers.answer;
                } else if (lowerQuery.includes('email address')) {
                    result = platform.contact_social.email_addresses.answer;
                } else if (lowerQuery.includes('physical address')) {
                    result = platform.contact_social.physical_address.answer;
                } else if (lowerQuery.includes('business hours')) {
                    result = platform.contact_social.business_hours.answer;
                } else if (lowerQuery.includes('mobile app')) {
                    result = platform.contact_social.app_download.answer;
                } else {
                    result = 'No specific contact information found for this query.';
                }
                
                responseDiv.textContent = `Query: "${query}"\n\nResponse:\n${result}`;
                responseDiv.classList.add('success');
                
            } catch (error) {
                responseDiv.textContent = `❌ Error processing query: ${error.message}`;
                responseDiv.classList.add('error');
            }
        }

        // Initialize when page loads
        window.addEventListener('load', () => {
            console.log('Page loaded, testing contact functionality...');
        });
    </script>
</body>
</html> 