<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Videos</title>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyCtaftg...",
            authDomain: "profstudymate-6d0fc.firebaseapp.com",
            projectId: "profstudymate",
            storageBucket: "profstudymate.appspot.com",
            messagingSenderId: "141453158869",
            appId: "1:141453158869:web:d4ded426a90e9937e2f55c",
        };
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        
        document.addEventListener("DOMContentLoaded", async function () {
            const videoContainer = document.getElementById("video-container");
            const querySnapshot = await getDocs(collection(db, "FreeVideos"));
            
            querySnapshot.forEach((doc) => {
                const videoData = doc.data();
                if (videoData.videos && Array.isArray(videoData.videos)) {
                    videoData.videos.forEach(video => {
                        const videoCard = `
                            <div class="p-4 bg-white shadow-lg rounded-lg w-full md:w-1/2 lg:w-1/3">
                                <video controls class="w-full rounded-md">
                                    <source src="${video.url}" type="video/mp4">
                                    <source src="${video.url}" type="video/webm">
                                    <source src="${video.url}" type="video/ogg">
                                    Your browser does not support the video tag.
                                </video>
                                <h2 class="mt-2 text-lg font-semibold">${video.title}</h2>
                                <p class="text-gray-600">${video.description}</p>
                            </div>
                        `;
                        videoContainer.innerHTML += videoCard;
                    });
                }
            });
        });
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6">
    <div class="container mx-auto">
        <h1 class="text-3xl font-bold text-center mb-6">Free Videos</h1>
        <div id="video-container" class="flex flex-wrap gap-4 justify-center"></div>
    </div>
</body>
</html>
